<section class="content-header">    <h1>        <a href="jsp/admin/plugins/releaser/ManageClusters.jsp" title="#i18n{releaser.adminFeature.ManageReleaser.name}">#i18n{releaser.adminFeature.ManageReleaser.name}</a>        <small class="hidden-xs hidden-sm">Release des composants</small>    </h1></section><section class="content">    <div class="app-wrapper app-cluster">        <div class="row">            <div class="col-xs-12 col-sm-12 col-md-12">                <div class="box box-info box-solid">                    <div class="box-header">                        <h3 class="box-title">                            <i class="fa fa-puzzle-piece"></i> Liste des composants                        </h3>                        <div class="box-tools">                            <form class="form" action="jsp/admin/plugins/releaser/ManageComponent.jsp" method="POST" name="" id="search" >                            <label for="search" class="sr-only">Rechercher un composant</label>                            <div class="input-group">                                <input type="text" class="form-control" placeholder="Nom du composant" name="search" id="search" value="${search!}">                                <span class="input-group-btn">                                    <button class="btn btn-default btn-flat" type="submit" title="rechercher"><i class="fa fa-search "></i> </button>                                </span>                            </div>                        </form>                        </div>                    </div>                    <!-- /.box-header -->                    <div class="box-body table-responsive no-padding">                        <table class="table table-hover">                            <thead>                                 <tr>                                  <th>Artifact</th>                                  <th>Infos Release</th>				  					  			  <th>Branche Ã  releaser</th>                                  <th><i class="fa fa-bug"></i> JIRA</th>                                  <th>Version</th>                                  <th>Version cible</th>                                  <th>Prochaine version</th>                                  <th><i class="fa fa-twitter"></i> Tweet</th>                                  <th>Actions</th>                                </tr>                            </thead>                                <tbody>                             <#if list_component??>                                <#list list_component as component>                                <tr>                                <td>                                    <strong> ${component.name!} - <span id="name-${component.artifactId!}">${component.artifactId!}</span></strong>                                </td>                                <td id="info-${component.artifactId!}">                                    <#if component.releaseComment! !=''>                                        <i class="fa fa-info-circle text-info"></i> ${component.releaseComment!''}                                    </#if>                                    <div id="progress-wrapper-${component.artifactId!}" class="progress-wrapper">                                        <div class="progress progress-xs progress-striped active">                                            <div class="progress-bar progress-bar-success progress-bar-striped" role="progressbar" aria-valuenow="20" aria-valuemin="0" aria-valuemax="100" style="width: 0%">                                                <span class="sr-only">0% Complete</span>                                            </div>                                        </div>                                        <button class="view_log_btn btn btn-default btn-xs" href="#" data-toggle="modal" data-artifactid="${component.artifactId!}" id="view_log_btn_${component.artifactId!}"  data-target="#modalLogs" data-context_release_id="">                                            <i class="fa fa-list-ol"></i> Voir les logs                                        </button>                                    </div>                                                                    </td>                                <td>			                    	<#if component.branches??>			                       	 	<div class="dropdown">											  <button class="btn btn-info dropdown-toggle" type="button" data-toggle="dropdown">${component.branchReleaseFrom}											  <span class="caret"></span></button>											  <ul class="dropdown-menu">											  <li>											  	  <a>${component.branchReleaseFrom}</a></li> 												  <#list component.branches as branch>					                                <li><a href="jsp/admin/plugins/releaser/ManageComponent.jsp?action=doChangeBranch&artifact_id=${component.artifactId}&release_branch=${branch}">${branch}</a></li>				                        		  </#list>											  </ul>										</div> 													                        <#else>			                           				                        	<strong class="button transition fill-lightblue small">${component.branchReleaseFrom}</strong>			                           	<a class="button transition border-lightblue small" title="Changer de branche" id="btn-upgrade-version-${component.artifactId}" href='jsp/admin/plugins/releaser/ManageComponent.jsp?view=changeBranch&artifact_id=${component.artifactId}'>											<i class="fa fa-code-fork fa-fw"></i>Releaser une autre branche										</a>			                        </#if>								</td>                                                                <td>                                    <a href="${component.jiraRoadmapUrl!}">                                        <span class="label label-success">${component.jiraCurrentVersionClosedIssues}</span>                                        <#if component.jiraCurrentVersionOpenedIssues = 0 >                                            <span class="label label-success">${component.jiraCurrentVersionOpenedIssues}</span>                                        <#else>                                            <span class="label label-danger">${component.jiraCurrentVersionOpenedIssues}</span>                                        </#if>                                    </a>                                </td>                                <td>                                    <strong class="button transition fill-lightblue small">${component.currentVersion!}</strong>                                </td>                                <td>                                    <strong class="button transition fill-lightblue small"> ${component.targetVersion!}</strong>                                </td>                                <td>                                    <span class="button transition fill-lightblue small"><#if component.isSnapshotVersion()>${component.nextSnapshotVersion!}<#else>${component.targetVersion!}</#if></span>                                </td>                                <td>                                    <#assign defaultTweetMessage="${component.name} ${component.targetVersion} released #LuteceCMS #LutecePortal"/>                                    <#if component.tweetMessage?has_content>                                        <textarea  id="tweet_message_${component.artifactId!}" name="tweet_message_${component.artifactId!}"  min=2 max=140 >${component.tweetMessage!}</textarea>                                    <#else>                                        <textarea id="tweet_message_${component.artifactId!}" name="tweet_message_${component.artifactId!}"  min=2 max=140>${defaultTweetMessage!}</textarea>                                    </#if>                                </td>                                <td>                                   <span id="release-result-${component.artifactId!}">                                      <a class="button transition border-orange small btn-release" data-artifactid="${component.artifactId!}" title="Releaser le composant" href='jsp/admin/plugins/releaser/ManageComponent.jsp?action=versionComponent&artifact_id=${component.artifactId!}' >                                        <i class="fa fa-cog fa-fw"></i> Releaser                                      </a>                                   </span>                                    <a id="histo-${component.artifactId!}" class="button transition border-blue small btn-release-history"  title="Visualiser l'historique des releases" href='jsp/admin/plugins/releaser/ManageSiteRelease.jsp?view=releaseComponentHistory&id=${component.artifactId!}' target="_blank">                                      <i class="fa fa-cog fa-fw"></i> Historique                                    </a>                                    <a class="button transition border-lightblue small" title="Modifier la version pour la release" id="btn-upgrade-version-${component.artifactId!}" href='jsp/admin/plugins/releaser/ManageComponent.jsp?action=versionComponent&artifact_id=${component.artifactId!}'>                                        <i class="fa fa-level-up fa-fw"></i> Modifier la version                                    </a>                                </td>                                 </tr>                                </#list>                            </#if>                              </tbody>                        </table>                    </div>                </div>            </div>        </div>    </div></section><#if paginator??>    <@paginationAdmin paginator=paginator /></#if>     <div class="modal fade" id="modalLogs" tabindex="-1" role="dialog" aria-labelledby="modalLogsLabel">  <div class="modal-dialog modal-lg" role="document">    <div class="modal-content">      <div class="modal-header">        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>        <h4 class="modal-title" id="modalLogsLabel">Release - Logs</h4>      </div>      <div class="modal-body">        <pre id="console_wf_log"></pre>      </div>      <div class="modal-footer">        <button type="button" class="button transition small fill-whitish-black" data-dismiss="modal">Fermer</button>      </div>    </div>  </div></div><!-- <script src="js/plugins/releaser/notify.min.js" type="text/javascript"></script> --><link href="js/jquery/plugins/toastr/toastr.min.css" rel="stylesheet"><script src="js/jquery/plugins/toastr/toastr.min.js"></script>       <script src="js/plugins/releaser/releaser.js" type="text/javascript"></script><script>var artifactIdInProgress;$( function(){    $(".progress-wrapper").toggle();    $(".view_log_btn").click( function(e){        $("#console_wf_log").css("height","50vh");        $("#console_wf_log").html(" ");        var artifactId=$(this).attr("data-artifactid");        var contextId=$(this).attr("context_release_id");        artifactIdInProgress=artifactId;        var progressId="#progress-wrapper-" + artifactId;        callReleaseInfo( contextId,progressId,artifactId )    });        $(".btn-release").click( function(e){        $("#console_wf_log").html(" ");        var artifactId=$(this).attr("data-artifactid");        $("#btn-upgrade-version-"+artifactId).hide();        var progressId="#progress-wrapper-" + artifactId;        $( progressId ).toggle();        var params = {                action: 'releaseComponent',                artifact_id: artifactId,                tweet_message: $("#tweet_message_"+artifactId).val()        };            $.ajax({                url: "jsp/admin/plugins/releaser/ReleaseComponentJson.jsp?action=releaseComponent",                type: "GET",                dataType : "json",                data:params,                success: function( data ) {                if (data.status == 'OK') {                    callReleaseInfo(data.result,progressId,artifactId );                    $( "#view_log_btn_"+artifactId).attr("data-context_release_id",data.result);                                    }                else if ( data.status == 'ERROR'  )                {                 }            }        });        e.preventDefault();    });});</script>